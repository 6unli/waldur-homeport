<div ng-if="$ctrl.loading">
  <loading-spinner/>
</div>

<div class="row" ng-if="!$ctrl.loading">
  <form class="col-sm-10 col-xs-12 form-horizontal" name="$ctrl.ProjectForm" novalidate>
    <div class="form-group">
      <label for="project_name" class="col-sm-3 col-md-4 col-lg-3 control-label">
        <span translate>Project name</span>
      </label>
      <div class="col-sm-9 col-md-8">
        <input id="project_name"
          name="name"
          type="text"
          class="form-control"
          ng-if="$ctrl.canManage"
          ng-model="$ctrl.projectModel.name"
          ng-blur="$ctrl.validate()"
          required/>
        <p class="form-control-static" ng-if="!$ctrl.canManage">{{::$ctrl.projectModel.name}}</p>
        <div class="error" ng-repeat="error in $ctrl.errors.name" ng-bind="error"></div>
      </div>
    </div>
    <div class="form-group">
      <label for="description" class="col-sm-3 col-md-4 col-lg-3 control-label">
        <span translate>Description</span>
      </label>
      <div class="col-sm-9 col-md-8">
        <input id="description"
          type="text"
          class="form-control"
          ng-if="$ctrl.canManage"
          ng-model="$ctrl.projectModel.description"/>
        <p class="form-control-static" ng-if="!$ctrl.canManage">{{::$ctrl.projectModel.description || '&mdash;'}}</p>
      </div>
    </div>
    <div class="form-group" ng-if="$ctrl.canManage">
      <div class="col-sm-offset-3 col-xs-12">
        <button type="submit" class="btn btn-primary" submit-button="$ctrl.saveProject()">
          <span translate>Update project details</span>
        </button>
      </div>
    </div>
  </form>
</div>
