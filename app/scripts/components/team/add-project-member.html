<div class="modal-header">
  <h3 class="modal-title" translate>{{ addTitle }} project member</h3>
</div>
<div class="modal-body">
  <div ng-if="loading">
    <h1 class="text-center"><i class="icon fa-spinner fa-spin"></i></h1>
  </div>
  <div ng-if="!loading" block-ui="add-team-member-dialog">
    <div class="form-group" ng-if="!editUser && users.length">
      <label class="control-label" translate>User</label>
      <user-selector users="users" model="projectModel"></user-selector>
    </div>

    <p ng-if="!editUser && !users.length" class="text-danger" translate>
      There are no available users.
    </p>

    <div class="form-group" ng-if="editUser">
      <p class="form-control-static">
        <strong translate>User</strong>
        {{ editUser.full_name || editUser.username }}
      </p>
    </div>

    <div class="form-group" ng-if="isProjectManager">
      <p class="form-control-static">
        <strong translate>Role</strong> {{::possibleRoles[1].name}}
      </p>
    </div>

    <div class="form-group" ng-if="!isProjectManager">
      <div ng-repeat="role in possibleRoles">
        <label>
          <input name="role"
             type="radio"
             ng-model="projectModel.role"
             ng-value="role.value">
          {{role.name}}
        </label>
      </div>
    </div>

    <div class="form-group">
      <label class="control-label" translate>Role expires on</label>
      <action-field-datetime model="projectModel" field="datetime"></action-field-datetime>
    </div>

    <div class="error" ng-repeat="error in errors track by $index" ng-bind="error"></div>
  </div>
</div>
<div class="modal-footer">
  <button class="btn btn-primary"
    submit-button="saveUser()"
    ng-class="{'disabled': canSubmit()}"
    >{{ addText | translate }}</button>
  <button class="btn btn-default" ng-click="$dismiss()" translate>Cancel</button>
</div>
