<div class="balance-block container {{ type == 'dashboard' ? 'dashboard-balance' : '' }}">
    <div class="right-block">
        <div class="balance">
            <span visible="plans" class="bold">
                Plan:
            </span>
            <span class="plan-spacing" visible="plans" ng-click="quotasTooltip = !quotasTooltip;">
                {{ currentPlan || 'Default'  }}
            </span>
            <span class="bold">
                Balance:
            </span>
            <span>
                $100
            </span>
        </div>
        <div class="tooltip quota-tooltip" ng-show="quotasTooltip">
            <div class="tooltip-title">
                <h3>Current quotas: </h3>
                <div class="icon close" ng-click="quotasTooltip = false;"></div>
                <div class="clear"></div>
            </div>
            <div ng-repeat="quota in currentPlanQuotas" visible="{{ quota.name }}">
                <div>{{ quota.usage }} out of {{ quota.limit }} {{ quota.name }}</div>
            </div>
            <a visible="plans" ui-sref="organizations.plans({uuid: model.uuid})"
               ng-show="type == 'dashboard'" class="button">Upgrade</a>
        </div>
        <div ng-if="type == 'details'">
            <div class="buttons">
                <a class="button" visible="plans" ui-sref="organizations.plans({uuid: model.uuid})">Plans</a>
                <a class="button" ng-click="amountTooltip = !amountTooltip; graphTooltip = false; quotasTooltip = false">Top-up</a>
                <a class="button" ng-click="graphTooltip = !graphTooltip; amountTooltip = false; quotasTooltip = false">History</a>
            </div>
            <div class="tooltip graph-tooltip" ng-show="graphTooltip" ng-if="chartData">
                <canvas chart-options="chartOptions"
                        chart-data="chartData"
                        tc-chartjs chart-type="line"
                        width="400" height="75"></canvas>
            </div>
            <div class="tooltip amount-tooltip" ng-show="amountTooltip">
                <div class="tooltip-title">
                    <h3>Add amount</h3>
                    <div class="icon close" ng-click="amountTooltip = false;"></div>
                    <div class="clear"></div>
                </div>
                <form>
                    <input type="number" min="1" max="10000" ng-model="amount" ng-init="amount=10">
                    <a class="button" ng-click="addCredit(amount)">
                        Add credit
                    </a>
                </form>
            </div>
        </div>
    </div>
</div>