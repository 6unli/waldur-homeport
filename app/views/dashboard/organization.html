<div class="wrapper wrapper-content">
    <div ng-if="DashboardCtrl.loading">
        <h1 class="text-center"><i class="icon fa-spinner fa-spin"></i></h1>
    </div>
    <div class="row" ng-if="!DashboardCtrl.loading">
        <div class="col-lg-3" ng-repeat="chart in DashboardCtrl.resourceCharts">
            <div class="ibox">
                <div class="ibox-title">
                    <h5>{{ ::chart.title }}</h5>
                </div>
                <div class="ibox-content">
                    <h1>{{ chart.quota.usage }}</h1>
                    <sparkline spark-data="chart.data"></sparkline>
                    <div ng-if="!chart.data.length" class="font-bold text-info m-b-sm">
                        <span class="pull-right">
                            0% <i class="fa fa-bolt"></i>
                        </span>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3">
            <div class="ibox">
                <div class="ibox-title">
                    <h5>Total price</h5>
                </div>
                <div class="ibox-content">
                    <h1>{{ DashboardCtrl.currentMonthPrice || 0 | defaultCurrency}}</h1>
                    <sparkline spark-data="DashboardCtrl.costChart"></sparkline>
                    <div class="font-bold text-info m-b-sm">
                        <span class="pull-right">
                            {{ DashboardCtrl.costChange || 0 }}%
                            <i class="fa" ng-class="{'fa-level-up': DashboardCtrl.costChange > 0, 'fa-level-down': DashboardCtrl.costChange < 0, 'fa-bolt': !DashboardCtrl.costChange}"></i>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-12">
            <div class="ibox">
                <div class="ibox-title">
                    <h5>Projects list</h5>
                </div>
                <div class="ibox-content" ng-controller="CustomerProjectTabController as ListController">
                    <div ng-include="'views/partials/filtered-list.html'"></div>
                </div>
            </div>
        </div>
    </div>
</div>
