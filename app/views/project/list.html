<div ng-controller="ProjectListController as ProjectList">

<div class="white-box">
    <ul class="sort-list">
        <li class="title">
            <h2 class="app-title">Projects</h2>
        </li>
        <li ng-repeat="pageSize in ProjectList.pageSizes">
            <a ng-click="ProjectList.changePageSize(pageSize)"
               ng-class="{active: pageSize === ProjectList.currentPageSize}">{{pageSize}}</a>
        </li>
        <li class="search divid">
            <div class="search-box">
                <input type="text" ng-model='ProjectList.searchInput' ng-keyup="ProjectList.search()">
                <button class="search-button" ng-click="ProjectList.search()"></button>
            </div>
        </li>
    </ul>
</div>

<div class="white-box clear">
    <ul class="object-list">
        <li>
            <div class="list-item">
                <div class="checkbox"></div>
                <div class="name">
                    <a class="list-sort">Name</a>
                </div>
                <div class="additional-cell">
                    <a class="list-sort">creation date</a>
                </div>
                <div class="actions"></div>
            </div>
        </li>
        <li ng-repeat="project in ProjectList.list">
            <div class="list-item" ng-class="{'opened': expandItem}">
                <div class="checkbox">
                    <div class="checkbox">
                        <input type="checkbox">
                    </div>
                </div>
                <div class="expand">
                    <a class="plus-minus"
                        ng-click="expandItem=!expandItem"
                        ng-class="{'plus': !expandItem, 'minus active': expandItem}"></a>
                </div>
                <div class="name">
                    <h3 class="item-title pointer">
                        <a ui-sref="projects.details({uuid: project.uuid})">{{ project.name }}</a>
                    </h3>
                </div>
                <div class="additional-cell">
                    {{ project.creation_date }}
                </div>
                <div class="actions">
                    <div class="actions-button">
                        <a class="button" ng-click="openActions=!openActions">actions</a>
                        <ul class="actions-dropdown" ng-show="openActions">
                            <li>
                                <a class="button-simple">Add user</a>
                            </li>
                            <li>
                                <a class="button-simple">Archive</a>
                            </li>
                            <li>
                                <a class="button-simple">Delete</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="list-item-details" ng-show="expandItem">
                <section ng-if="project.description">
                    {{ project.description }}
                </section>
                <section>
                    <header>
                        <h4 class="item-title">Resources</h4>
                        <ul class="inline-pagination">
                            <li>
                                <a href="">1</a>
                            </li>
                            <li>
                                <a href="" class="current">2</a>
                            </li>
                            <li>
                                <a href="">3</a>
                            </li>
                            <li>
                                <span>...</span>
                            </li>
                            <li>
                                <a href="">5</a>
                            </li>
                        </ul>
                    </header>
                    <ul>
                        <li class="item-list">
                            <section>
                                <a class="list-sort">Name</a>
                            </section>
                            <section>
                                <div class="list-sort">Access information</div>
                            </section>
                        </li>
                        <li class="item-list" ng-repeat="resource in project.resources">
                            <section>
                                <a href="">{{ resource.name }}</a>
                            </section>
                            <section>
                                <span ng-repeat="access in resource.access_information">{{ access }}</span>
                            </section>
                        </li>
                    </ul>
                </section>
                <!-- asas -->
                <section>
                    <header>
                        <h4 class="item-title">Users</h4>
                        <ul class="inline-pagination">
                            <li>
                                <a href="">1</a>
                            </li>
                            <li>
                                <a href="" class="current">2</a>
                            </li>
                            <li>
                                <a href="">3</a>
                            </li>
                            <li>
                                <span>...</span>
                            </li>
                            <li>
                                <a href="">5</a>
                            </li>
                        </ul>
                    </header>
                    <ul>
                        <li class="item-list">
                            <section>
                                <a class="list-sort">Name</a>
                            </section>
                        </li>
                        <li class="item-list" ng-repeat="user in project.users">
                            <section>
                                <div class="avatar">
                                    <img src="/static/images/user-avatar.jpg" alt="" class="avatar-img">
                                </div>
                                <a ui-sref="users({uuid: user.uuid})">{{ user.native_name }}</a>
                            </section>
                        </li>
                    </ul>
                </section>
            </div>
        </li>
    </ul>
</div>

</div>
