<div ng-controller="ProfileController as controller">

    <div class="profile-view">
        <section class="avatar">
            <span class="avatar big">
                <img src="/static/images/user-avatar.jpg" alt="" class="avatar-img">
            </span>
        </section>
        <section class="content">
            <h2 class="app-title">{{ controller.user.full_name }}</h2>
            <span>({{ controller.user.username }})</span>
            <div>
                <a href="mailto:{{ controller.user.email }}">{{ controller.user.email }}</a>
            </div>
        </section>
        <section class="actions">
            <div class="actions-button">
                <a class="button" ng-click="openActions=!openActions">actions</a>
                <ul class="actions-dropdown" ng-show="openActions">
                    <li>
                        <a class="button-simple">Add to project</a>
                    </li>
                    <li>
                        <a ui-sref="profile.update" class="button-simple">Edit profile</a>
                    </li>
                    <li>
                        <a class="crud-controls" ng-click="controller.deleteAccount()">delete my account</a>
                    </li>
                </ul>
            </div>
        </section>
    </div>

    <ul class="tabs-nav">
        <li ng-class="{'active': controller.activeTab === 'eventlog'}"
            ng-click="controller.activeTab = 'eventlog'">
            Events
        </li>
        <li ng-class="{'active': controller.activeTab === 'projects'}"
            ng-click="controller.activeTab = 'projects'">
            Projects
        </li>
        <li ng-class="{'active': controller.activeTab === 'keys'}"
            ng-click="controller.activeTab = 'keys'">
            SSH Keys
        </li>
        <li ng-class="{'active': controller.activeTab === 'manageuser'}"
            ng-click="controller.activeTab = 'manageuser'">
            Manage User
        </li>
    </ul>
    <div class="white-box tabs">
        <ul class="sort-list">
            <li>
                <a href="#" class="active">5 hours</a>
            </li>
            <li>
                <a href="#">24 hours</a>
            </li>
            <li>
                <a href="#">week</a>
            </li>
            <li class="search divid">
                <div class="search-box" data-role="search-box">
                    <input type="text">
                    <button class="search-button"></button>
                </div>
            </li>
        </ul>
    </div>

    <sectin class="tabs-content" ng-switch="controller.activeTab">
        <div class="tab" id="eventlog"
            ng-class="{'tab-active': controller.activeTab === 'eventlog'}"
            ng-switch-when="eventlog">
            <div ui-view="tabEventlog"></div>
        </div>
        <div class="tab" id="projects"
            ng-class="{'tab-active': controller.activeTab === 'projects'}"
            ng-switch-when="projects">
            <div ui-view="tabProjects"></div>
        </div>
        <div class="tab" id="keys"
            ng-class="{'tab-active': controller.activeTab === 'keys'}"
            ng-switch-when="keys">
            <div ui-view="tabKeys"></div>
        </div>
        <div class="tab" id="manageuser"
            ng-class="{'tab-active': controller.activeTab === 'manageuser'}"
            ng-switch-when="manageuser">
            <div ui-view="tabManageUser"></div>
        </div>
    </sectin>

</div>
