<div visible="compare"
     ng-if="AppStore.showCompare.indexOf(AppStore.selectedCategory.name) !== -1">
    <a ui-sref="compare.compare">
        <i class="fa fa-balance-scale"></i>
        Compare flavors
    </a>
</div>

<section class="step-2" ng-if="AppStore.secondStep && AppStore.selectedCategory.type == 'provider'">
    <div class="step-title">
        <span>Choose provider</span>
    </div>
    <div class="appstore-templates">
        <div class="appstore-template {{ service.type.toLowerCase() }}"
             ng-repeat="service in AppStore.categoryServices[AppStore.selectedCategory.name]"
             ng-click="AppStore.setService(service)"
             ng-class="AppStore.serviceClass(service)"
             uib-tooltip="{{ service.warning }}">
            <div class="icon">
                <img ng-src="{{ AppStore.getServiceIcon(service.type) }}" alt="">
            </div>
            <h3>{{ service.name }}</h3>
        </div>
    </div>
</section>

<section class="step-2" ng-show="AppStore.resourceTypesBlock">
    <div class="step-title"><span>Choose resource type</span></div>
    <div class="appstore-templates">
        <div class="appstore-template {{name.toLowerCase()}}"
             ng-repeat="(name, resource) in AppStore.serviceMetadata.resources"
             ng-click="AppStore.setResourceType(name)"
             ng-class="{'state': AppStore.selectedResourceType == name}"
             ng-show="AppStore.filterResources(name)">
            <div class="icon">
                <i class="fa"></i>
            </div>
            <h3>{{ name }}</h3>
        </div>
    </div>
</section>

<section class="step-3" ng-show="AppStore.selectedResourceType" block-ui="resource-properties">
    <div class="step-title">
        <span>
            Configure {{ AppStore.secondStep && AppStore.getServiceTypeDisplay(AppStore.serviceType) || ''}}
            {{ AppStore.selectedResourceTypeName }}
        </span>
    </div>

    <appstore-form fields="AppStore.fields"
                   errors="AppStore.errors"
                   model="AppStore.instance">
    </appstore-form>
</section>

<div ng-if="AppStore.selectedCategory.type == 'package'">
    <appstore-support-agreement></appstore-support-agreement>
</div>
