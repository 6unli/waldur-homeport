<div ng-controller="PlansListController as PlanList">
    <div class="container">
        <h1>Plans</h1>
    </div>
    <div class="white-box">
        <section class="content">
            <h2 class="app-title"><a ui-sref="organizations.details({uuid: PlanList.customer.uuid})">{{ PlanList.customer.name }}</a></h2>
            <div>
                <h4 class="app-title">Choose new plan</h4>
            </div>
            <div class="plans">
                <div class="plan" ng-repeat="plan in PlanList.list">
                    <div class="plan-item"
                         ng-class="{'current-plan': PlanList.currentPlan === plan.url, 'selected': PlanList.selectedPlan.uuid === plan.uuid}"
                         ng-click="PlanList.selectPlan(plan)">
                        <table>
                            <th>
                                <span class="plan-name">{{ plan.name }}</span>
                                <span class="plan-price">${{ plan.price }} / mo.</span>
                            </th>
                            <tr ng-repeat="quota in plan.quotas">
                                <td>{{ quota.value }} {{ PlanList.getPrettyQuotaName(quota.name) }}</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="decision">
                <div class="col">
                    <a class="button-cancel" ng-click="PlanList.cancel()">Cancel</a>
                </div>
                <div class="col">
                    <a class="button-apply" ng-class="{'disabled': !PlanList.selectedPlan}" ng-click="PlanList.createOrder()">Confirm changing your plan</a>
                </div>
            </div>
        </section>
    </div>

</div>
