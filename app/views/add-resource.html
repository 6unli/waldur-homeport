<ng-include src="'/views/partials/app-header.html'"></ng-include>

<!-- app-block -->
<section class="app-block">
    <div class="container-fluid">
        <div class="white-box">
            <div class="app-title-line">
                <div class="row">
                    <div class="col-xs-12 first-line">
                        <h2 class="app-title">Add Resource</h2>
                        <ul class="sort no-display">
                            <li><a href="#" class="active">5</a></li>
                            <li><a href="#">15</a></li>
                            <li><a href="#">24</a></li>
                            <li class="divid">
                                <div class="search" data-role="search-box">
                                    <input type="text">
                                    <button class="search-button">
                                        <i class="fa fa-search"></i>
                                    </button>
                                </div>
                            </li>
                        </ul>
                        <div class="crud-box pull-right"><a href="../resources/index.html" class="crud-controls active"><i class="fa fa-plus"></i> add resource</a></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- /app-block -->

<div class="app-form-box after-line" data-role="form-box" ng-controller="ResourceAddController as ResourceAdd">
    <!-- app-block -->
    <section class="app-block">
        <div class="container-fluid">
            <div class="white-box top-level">
                <!-- app-basic-form -->
                <div class="app-basic-form">
                    <form action="">

                        <!-- app-title-line -->
                        <div class="app-title-line in-form form-field">
                            <div class="row">
                                <div class="col-xs-12 first-line">
                                    <h2 class="app-title">Add resource</h2>
                                </div>
                            </div>
                        </div>
                        <!-- /app-title-line -->

                        <div class="row form-field description">
                            <div class="col-xs-4">
                                <span class="error error-standard error-small arrow-down label" ng-repeat="error in ResourceAdd.errors.hostname">{{ error }}</span>
                            </div>
                            <div class="col-xs-4">
                                <div class="gray-text">
                                    <span class="error error-standard error-small arrow-down label" ng-repeat="error in ResourceAdd.errors.project">{{ error }}</span>
                                </div>
                            </div>
                        </div>

                        <div class="row form-field">
                            <div class="col-xs-4">
                                <input type="text" class="form-control" placeholder="Resource Name" data-role="form-input" ng-model="ResourceAdd.resource.hostname">
                            </div>
                            <div class="col-xs-4">
                                <div class="custom-select project">
                                    <select name="" id=""
                                        ng-options="project.url as project.name for project in ResourceAdd.projectList"
                                        ng-model="ResourceAdd.resource.project">
                                        <option value="" selected>Choose project</option>
                                    </select>
                                </div>
                                <a href="#" class="crud-controls active"><i class="fa fa-plus"></i> Add project</a>
                            </div>
                            <div class="col-xs-4">
                                <div class="custom-select project">
                                    <select name="" id=""
                                        ng-options="key.name as key.name for key in ResourceAdd.keyList"
                                        ng-model="ResourceAdd.resource.key_name">
                                        <option value="" selected>Choose key</option>
                                    </select>
                                </div>
                                <a href="#" class="crud-controls"><i class="fa fa-plus"></i> Add SSH key</a>
                            </div>
                        </div>

                        <div class="row form-field description">
                            <div class="col-xs-4 col-xs-offset-4">
                                <div class="gray-text">
                                    Description for Project choises goes here...
                                </div>
                            </div>
                            <div class="col-xs-4">
                                <div class="gray-text">
                                    Description for key choises goes here...
                                </div>
                            </div>
                        </div>

                        <div class="form-divide"></div>

                        <!-- app-title-line -->
                        <div class="app-title-line in-form form-field">
                            <div class="row">
                                <div class="col-xs-12 first-line">
                                    <h2 class="app-title">Service</h2>
                                    <div class="crud-box pull-right"><a href="#" class="crud-controls"><i class="fa fa-plus"></i> Add service</a></div>
                                </div>
                            </div>
                        </div>
                        <!-- /app-title-line -->

                        <!-- service-choice -->
                        <div class="appstore-templates">
                            <!-- template -->
                            <div class="appstore-template" ng-repeat="service in ResourceAdd.serviceList" ng-click="ResourceAdd.setService(service)" ng-class="{'state': ResourceAdd.selectedService == service}">
                                <div class="icon">
                                    <img src="../static/images/icons/openstack.jpg" alt="" class="icon">
                                </div>
                                <div class="description">
                                    <h3>{{ service.name }}</h3>
                                </div>
                            </div>
                            <!-- /template -->
                        </div>
                        <!-- /service-choice -->

                        <!-- app-title-line -->
                        <div class="app-title-line in-form form-field" ng-show="ResourceAdd.showTemplates">
                            <div class="row form-field errors">
                                <div class="col-xs-4">
                                    <span class="error error-standard error-small arrow-down label" ng-repeat="error in ResourceAdd.errors.template">{{ error }}</span>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-12 first-line">
                                    <h2 class="app-title">Template</h2>
                                </div>
                            </div>
                        </div>
                        <!-- /app-title-line -->

                        <!-- template-choice -->
                        <div class="appstore-templates" ng-show="ResourceAdd.showTemplates">
                            <!-- template -->
                            <div class="appstore-template" ng-repeat="template in ResourceAdd.templateList" ng-click="ResourceAdd.setTemplate(template)" ng-class="{'state': ResourceAdd.selectedTemplate == template}">
                                <div class="icon">
                                    <img ng-show="template.icon_url" src="{{ template.icon_url }}" alt="" class="icon">
                                    <img ng-show="!template.icon_url" src="static/images/os-fallback.png" alt="" class="icon">
                                </div>
                                <div class="description">
                                    <h3>{{ template.name }}</h3>
                                    <article class="gray-text">
                                        <ul>
                                            <li>OS: {{ template.os }}</li>
                                        </ul>
                                    </article>
                                </div>
                            </div>
                            <!-- /template -->
                        </div>
                        <!-- /template-choice -->

                        <!-- app-title-line -->
                        <div class="app-title-line in-form form-field" ng-show="ResourceAdd.showFlavors">
                            <div class="row form-field errors">
                                <div class="col-xs-4">
                                    <span class="error error-standard error-small arrow-down label" ng-repeat="error in ResourceAdd.errors.flavor">{{ error }}</span>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-12 first-line">
                                    <h2 class="app-title">Flavor</h2>
                                </div>
                            </div>
                        </div>
                        <!-- /app-title-line -->

                        <!-- flavor-choice -->
                        <div class="appstore-templates" ng-show="ResourceAdd.showFlavors">
                            <!-- template -->
                            <div class="appstore-template" ng-repeat="flavor in ResourceAdd.flavorList" ng-click="ResourceAdd.setFlavor(flavor)" ng-class="{'state': ResourceAdd.selectedFlavor == flavor}">
                                <div class="description">
                                    <article class="gray-text-dark">
                                        <ul class="hardware">
                                            <li>
                                                <i class="flaticon-computer33"></i>
                                                Cores: {{ flavor.cores }}
                                            </li>
                                            <li>
                                                <i class="flaticon-random"></i>
                                                RAM: {{ flavor.ram }}
                                            </li>
                                            <li>
                                                <i class="flaticon-hardware1"></i>
                                                Disk: {{ flavor.disk }}
                                            </li>
                                        </ul>
                                    </article>
                                </div>
                            </div>
                            <!-- /template -->
                        </div>
                        <!-- /flavor-choice -->

                        <div class="form-divide"></div>

                        <div class="row form-field">
                            <div class="col-xs-12 text-center">
                                <button class="btn btn-default">Cancel</button>
                                <button class="btn btn-primary" ng-click="ResourceAdd.save()">Add resource</button>
                            </div>
                        </div>
                    </form>
                </div>
                <!-- /app-basic-form -->
            </div>
        </div>
    </section>
    <!-- /app-block -->
</div>

<ng-include src="'/views/partials/app-footer.html'"></ng-include>
