<div class="modal-header">
  <h2 class="modal-title" translate>Invite user</h2>
</div>
<form name="DialogCtrl.DialogForm">
  <div class="modal-body">
    <div ng-if="DialogCtrl.loading">
      <loading-spinner></loading-spinner>
    </div>
    <div ng-if="!DialogCtrl.loading">
      <div class="form-group">
        <label class="control-label" for="inviteEmail">
          <span translate>E-mail</span>
          <span class="text-danger">*</span>
        </label>
        <input class="form-control" id="inviteEmail" name="email" type="email" ng-model="DialogCtrl.email" required
          ng-disabled="DialogCtrl.submitting">
        <p class="text-danger" ng-repeat="error in DialogCtrl.errors.email" ng-bind="error"></p>
      </div>

      <div class="form-group">
        <label class="control-label" for="inviteCivilNumber">
          <span translate>Civil number</span>
        </label>
        <input class="form-control" id="inviteCivilNumber" name="civil_number" ng-model="DialogCtrl.civil_number"
          ng-disabled="DialogCtrl.submitting">
        <p class="text-danger" ng-repeat="error in DialogCtrl.errors.civil_number" ng-bind="error"></p>
      </div>

      <div class="form-group">
        <div>
          <label class="control-label" translate>Role</label>
        </div>
        <div class="btn-group">
          <button
            type="button"
            class="btn btn-default"
            ng-repeat="role in DialogCtrl.roles"
            ng-class="{active: DialogCtrl.role == role}"
            ng-click="DialogCtrl.role = role">
            <i class="fa" ng-class="role.icon"></i> {{ role.title | translate }}
          </button>
        </div>
        <p class="text-danger" ng-repeat="error in DialogCtrl.errors.customer" ng-bind="error"></p>
      </div>

      <div class="form-group" ng-if="DialogCtrl.role.field == 'project_role'">
        <label class="control-label" for="inviteProject">
          <span translate>Project</span>
          <span class="text-danger">*</span>
        </label>
        <select
          id="inviteProject"
          ng-options="project as project.name for project in DialogCtrl.customer.projects"
          ng-model="DialogCtrl.project"
          class="form-control"
          required
          ng-disabled="DialogCtrl.submitting">
          <option value=""><span translate>Select project</span></option>
        </select>
        <p class="text-danger" ng-repeat="error in DialogCtrl.errors.project" ng-bind="error"></p>
      </div>

      <div class="form-group"
        ng-if="DialogCtrl.errors.non_field_errors">
        <p class="text-danger"
          ng-repeat="error in DialogCtrl.errors.non_field_errors"
          ng-bind="error">
        </p>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button class="btn btn-primary" type="submit"
      submit-button="DialogCtrl.submitForm()">
      <span translate>Invite user</span>
    </button>
    <button class="btn btn-default" type="button"
      ng-click="DialogCtrl.dismiss()">
      <span translate>Cancel</span>
    </button>
  </div>
</form>
